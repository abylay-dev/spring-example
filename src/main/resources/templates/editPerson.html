<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">
<div layout:fragment="main_content">
    <h2>Edit Person page</h2>
    <form th:action="@{'/update-person'}" method="post">
        <input type="number" name="id" hidden th:value="${person.id}">
        <div class="mb-3">
            <label for="fname" class="form-label">First name:</label>
            <input type="text" id="fname" name="fname" class="form-control" placeholder="John"
                   th:value="${person.firstname}">
        </div>
        <div class="mb-3">
            <label for="lname" class="form-label">Last name:</label>
            <input type="text" id="lname" name="lname" class="form-control" placeholder="Doe"
                   th:value="${person.lastname}">
        </div>
        <div class="mb-3">
            <label for="age" class="form-label">Age:</label>
            <input type="number" id="age" name="age" class="form-control" placeholder="60" th:value="${person.age}">
        </div>
        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>


    <table class="table table-striped">
        <thead>
        <tr>
            <th>Course</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="course: ${person.getCourses()}">
            <td th:text="${course.name}"></td>
            <td> <a th:href="'/remove-course?course_id=' + ${course.getId()}" class="btn btn-danger mx-2">-</a></td>
        </tr>
        </tbody>
    </table>

    <table class="table table-striped">
        <thead>
        <tr>
            <th>Course</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="course: ${courses}">
            <td th:text="${course.name}"></td>
            <td> <a th:href="'/add-course?course_id=' + ${course.getId()} + '&person_id=' + ${person.id}" class="btn btn-success mx-2">+</a></td>
        </tr>
        </tbody>
    </table>
</div>
</html>